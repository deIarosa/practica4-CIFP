<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIFP Daniel - Profesor - Ver calificaciones</title>
    <link rel="stylesheet" href="calificaciones.css">
</head>

<body>
    <header>
        <input type="checkbox" id="botonMenu">
        <label for="botonMenu"><img class="menuBoton" src="../img/menuIcono.png" alt="menuBoton"></label>
        <nav class="menu">
            <ul>
                <li><a href="profesores.html">INICIO</a></li>
                <li><a href="tarea.html">Definir tarea</a></li>
                <li><a href="examen.html">Definir examen</a></li>
                <li><a href="notas.html">Introducir notas</a></li>
                <li><a href="calificaciones.html">Ver calificaciones</a></li>
                <li><a href="../index.html">Cerrar sesión</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h2>CIFP Daniel - Profesor - Ver calificaciones</h2>
        <table id="final">
            <thead>
                <tr>
                    <th>Nombre y apellidos</th>
                    <th>Módulo</th>
                    <th>1ª Evaluación</th>
                    <th>2ª Evaluación</th>
                    <th>3ª Evaluación</th>
                    <th>NOTA FINAL</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Daniel López Martínez</td>
                    <td>Diseño de Interfaces Web</td>
                    <td>5</td>
                    <td>7</td>
                    <td>5</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Ana Lopez García</td>
                    <td>Diseño de Interfaces Web</td>
                    <td>6</td>
                    <td>5</td>
                    <td>5</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Alberto Lorenzo Ortega</td>
                    <td>Diseño de Interfaces Web</td>
                    <td>7</td>
                    <td>5</td>
                    <td>6</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Paula González Gil</td>
                    <td>Diseño de Interfaces Web</td>
                    <td>8</td>
                    <td>5</td>
                    <td>7</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Juan Carlos Pino Herrera</td>
                    <td>Diseño de Interfaces Web</td>
                    <td>6</td>
                    <td>7</td>
                    <td>5</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Rodrigo Martínez García</td>
                    <td>Sistemas Informáticos</td>
                    <td>4</td>
                    <td>5</td>
                    <td>4</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Andrea Tapia López</td>
                    <td>Sistemas Informáticos</td>
                    <td>8</td>
                    <td>6</td>
                    <td>6</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Sergio Hernando Jiménez</td>
                    <td>Sistemas Informáticos</td>
                    <td>6</td>
                    <td>8</td>
                    <td>8</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Marcos Perez Verde</td>
                    <td>Sistemas Informáticos</td>
                    <td>8</td>
                    <td>8</td>
                    <td>5</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Diana García Moral</td>
                    <td>Sistemas Informáticos</td>
                    <td>4</td>
                    <td>6</td>
                    <td>6</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Cristian Terán Correa</td>
                    <td>Lenguajes de Marcas y Sistemas de Gestión de Información</td>
                    <td>9</td>
                    <td>7</td>
                    <td>7</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Lorenzo Mendoza Nuñez</td>
                    <td>Lenguajes de Marcas y Sistemas de Gestión de Información</td>
                    <td>6</td>
                    <td>6</td>
                    <td>6</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Mario Herrera Burgos</td>
                    <td>Lenguajes de Marcas y Sistemas de Gestión de Información</td>
                    <td>4</td>
                    <td>4</td>
                    <td>4</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Ester Arnaiz Sanchez</td>
                    <td>Lenguajes de Marcas y Sistemas de Gestión de Información</td>
                    <td>4</td>
                    <td>5</td>
                    <td>7</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <div id="boton"><input type="button" value="Ver nota final" onclick="obtenerMedias();"></div>
    </main>
    <footer>
        <div id="footer">
            <img src="../img/junta.png" alt="Junta" id="junta">
            <address>CIFP Daniel</address>
            <a href="#"><img src="../img/twitter.png" alt="Twitter" id="twitter"></a>
        </div>
    </footer>
    <script>
        let notas = obtenerNotas();
        let segmentos = notas.split("|");

        function obtenerMedias() {
            let contador = 0;

            for (x = 0; x < segmentos.length - 1; x++) {
                if (segmentos[x] != "") {
                    contador = contador + 1;
                    let media = calcularNota(segmentos[x]);
                    mostrarNota(media, contador);
                }
            }

        }

        function mostrarNota(media, posicion) {
            final.rows[posicion].cells[5].innerHTML = media;
        }

        function calcularNota(notas) {
            let arregloNotas = notas.split(",");
            nota1 = arregloNotas[2];
            nota2 = arregloNotas[3];
            nota3 = arregloNotas[4];

            media = (parseInt(nota1) + parseInt(nota2) + parseInt(nota3)) / 3;
            media2 = media.toFixed(1);
            return media2;
        }

        function obtenerNotas() {
            let cadenaNotas = "";
            let filas = final.rows.length;
            let columnas = final.rows[0].cells.length;

            for (x = 1; x < filas; x++) {
                for (y = 0; y < columnas - 1; y++) {
                    cadenaNotas = cadenaNotas + final.rows[x].cells[y].innerHTML;
                    cadenaNotas = cadenaNotas + ",";
                }

                cadenaNotas = cadenaNotas + "|";
            }
            return cadenaNotas;
        }
    </script>
</body>

</html>